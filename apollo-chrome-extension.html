<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <meta property="og:image" content="//mike-solomon.com/img/profile.jpg" />
  <title>Mike Solomon</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="public/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="public/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="public/favicon/favicon-16x16.png">

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link href="public/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="public/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
  <div class="navbar-fixed">
    <nav class="white" role="navigation">
      <div class="nav-wrapper container">
        <a id="logo-container" href="index.html" class="brand-logo">Mike Solomon</a>
        <ul class="right hide-on-med-and-down">
          <li><a href="index.html"><i class="material-icons left">home</i></i>Home</a></li>
          <li><a href="/api/documentation"><i class="material-icons left">info</i>About</a></li>
        </ul>

        <ul id="nav-mobile" class="side-nav">
          <li><a href="index.html">Home</a></li>
          <li><a href="/api/documentation">About</a></li>
        </ul>
        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
      </div>
    </nav>
  </div>


  <div class="section no-pad-bot">
    <div class="container">
      <br><br>
      <h1 class="header center"></h1>
      <img src="public/img/deployer-icon.png" alt="" class="circle main-image">
      <div class="row center">
        <h5 class="header col s12 light"><strong>Apollo Chrome Extension</strong></h5>
        <div class="col s12 m6 offset-m3">
          <p class="center-align light">Every other Friday at Thrillist Media Group is "Hacker Friday" -- a day devoted to working on side projects for the company. Apollo is my first chrome extension; it deploys code to our staging servers with one click. I'm not done writing this yet :)</p>
        </div>
      </div>
      <div class="row center">
        <a href="#features" class="btn-large waves-effect waves-light teal lighten-1">Draft</a>
      </div>
      <br><br>
    </div>
  </div>

  <div class="container">
    <div class="section no-pad-bot">

      <div class="row">
        <div class="col s12 center">
          <img class="z-depth-2" src="public/img/deployer-stage.png" width="100%" >
          <br><br>
        </div>
      </div>
      <div class="row center" id="features">
        <h4>Features</h4>
      </div>
      <div class="row">
        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center teal-text"><i class="fa fa-rocket"></i></h2>
            <h5 class="center">Click to Deploy</h5>
            <p class="light">Apollo's staging button reveals a dropdown of staging servers. Just click one to start deploying. In the background, Jenkins has kicked off a job and is deploying the code from pull request's branch onto your selected server.</p>
          </div>
        </div>
        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center teal-text"><i class="material-icons">done</i></h2>
            <h5 class="center">Identify QAed Branches</h5>
            <p class="light">Apollo's dropdown knows which branches in the list have been marked as QAed. It is usually safe to deploy to a staging server that is marked as QAed because testing should be complete.</p>
          </div>
        </div>
        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center teal-text"><i class="material-icons">autorenew</i></h2>
            <h5 class="center">Progress Bar</h5>
            <p class="light">Once a job has been kicked off, Jenkins comes back with an estimated time to completion. This estimated time is visualized as a progress bar at the top of the page - thanks <a href="http://nanobar.micronube.com/" target="_blank">nanobar.js!</a></p>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col s12 center">
          <img class="z-depth-2" src="public/img/deployer-staging.png" width="100%" >
          <br><br>
        </div>
      </div>
      <div class="row center">
        <h4>Credits</h4>
        <div class="col s12 m6 offset-m3">
          <p class="center-align light">Apollo depends on two major components to operate. Before I dive into details of Apollo, I feel compelled to give a couple of shout outs to those responsible for each dependent component.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s12 m6">
          <div class="icon-block">
            <!--<h2 class="center teal-text"><i class="material-icons">settings_applications</i></h2>-->
            <img src="https://camo.githubusercontent.com/73aa2e5efdce9c86a20922bc04f9c2bde852be4f/687474703a2f2f6a656e6b696e732d63692e6f72672f73697465732f64656661756c742f66696c65732f6a656e6b696e735f6c6f676f2e706e67" width="100%">
            <h5 class="center">DevOps</h5>
            <p class="light">The DevOps team at Thrillist Media Group is led by <a href="https://www.linkedin.com/in/timothymahoney" target="_blank">Tim Mahoney</a>. He set us up with our staging infrastructure as well as the Jenkins jobs that deploy code to the boxes. All Apollo has to do is POST a payload to a Jenkins endpoint. Jenkins then kicks off a job that runs ansible plays on our staging machines. Tim's heavy lifting paved the way for this chrome extension to come into being.</p>
          </div>
        </div>
        <div class="col s12 m6">
          <div class="icon-block">
            <img src="public/img/whiteboard.png" width="100%" height="152px">
            <h5 class="center">Whiteboard</h5>
            <p class="light">Whiteboard is an in-house application that was created by our Lead Front End Developer <a href="https://www.linkedin.com/in/jhigginsiii" target="_blank">Joe Higgins</a> on a hacker Friday. The app is a real-time dashboard that lists the different branches running on each of our staging servers. Before this app, we used to write this information on a whiteboard near our desks, hence the name.  This app has an API endpoint that Apollo uses to populate the dropdown of servers. </p>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col s12 center">
          <img class="z-depth-2" src="public/img/jenkins.png" width="100%" >
          <br><br>
        </div>
      </div>
      <div class="row center">
        <h4>POSTing to Jenkins</h4>
        <div class="col s12 m6 offset-m3">
          <p class="center-align light">After collecting the information about the code that the user wishes to deploy, Apollo bundles it into a payload and POSTs it to Jenkins.</p>
        </div>
      </div>
      <div class="row">
        <div class="col s12" style="overflow-y: hidden">
          <pre class="language-markup">
            <code class="teal-text">
              <span class="light-blue-text">function</span> <span class="green-text">jenkinsDeploy</span>(<span class="orange-text text-darken-2">launchData</span>){
                <span class="light-blue-text">var</span> deployRequest <span class="red-text">= $</span>.ajax({
                    type: <span class="amber-text text-accent-4">'POST'</span>,
                    url: <span class="light-blue-text">window</span>.launchURL<span class="red-text">+</span><span class="amber-text text-accent-4">"/view/Deploy/job/Pinnacle%20Staging/buildWithParameters"</span>,
                    data: launchData,
                    <span class="green-text">success:</span> <span class="light-blue-text">function</span>(<span class="orange-text text-darken-2">res, status, xhr</span>){
                        <span class="light-blue-text">var</span> queueItem = xhr.<span class="light-blue-text">getResponseHeader</span>(<span class="amber-text text-accent-4">"location"</span>).<span class="light-blue-text">split</span>(<span class="amber-text text-accent-4">"jenkins.thrillist.com/queue"</span>)[<span class="purple-text">1</span>];
                        pollQueue(queueItem);
                    },
                    <span class="green-text">error:</span> <span class="light-blue-text">function</span>(<span class="orange-text text-darken-2">msg</span>){
                      console.<span class="light-blue-text">log</span>(<span class="amber-text text-accent-4">'error with jenkinsDeploy'</span>);
                      console.<span class="light-blue-text">log</span>(msg);
                    }
                });
              }
            </code>
          </pre>
        </div>
      </div>
    </div>
    <!-- Disqus -->
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        var disqus_shortname = 'mikesolomon';
        
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>

  <footer class="page-footer teal">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Mike Solomon</h5>
          <p class="grey-text text-lighten-4">I'm a product manager and I love what I do. This is my personal website where I post articles about the product/tech/ux industry that interest me, hopefully they interest you as well. Enjoy your stay!</p>


        </div>
        <div class="col l3 s12">
          <h5 class="white-text">Social</h5>
          <ul>
            <li><a class="white-text" href="https://www.github.com/msolomonTMG"><i class="fa fa-github"></i> GitHub</a></li>
            <li><a class="white-text" href="https://www.linkedin.com/in/michaelgarysolomon"><i class="fa fa-linkedin"></i> Linkedin</a></li>
          </ul>
        </div>
        <div class="col l3 s12">
          <h5 class="white-text">Contact</h5>
          <ul>
            <li><a class="white-text" href="mailto:hello@mike-solomon.com"><i class="fa fa-send"></i> hello@mike-solomon.com</a></li>
            <li><a class="white-text" href="tel:+16317477950"><i class="fa fa-phone"></i> 631-747-7950</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      <span class="left">Big ups to <a class="brown-text text-lighten-3" href="http://materializecss.com">Materialize</a></span>
      <span class="right"><i class="fa fa-pencil"></i> with <i class="fa fa-heart"></i> from Brooklyn</span>
      </div>
    </div>
  </footer>

  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="public/js/materialize.js"></script>
  <script src="public/js/init.js"></script>

  <!-- GA -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65057210-1', 'auto');
    ga('send', 'pageview');

  </script>

  </body>
</html>